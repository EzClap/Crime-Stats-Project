{"ast":null,"code":"import _slicedToArray from \"/Users/jackhu/Downloads/crime/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jackhu/Downloads/crime/src/offences.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState, useEffect } from \"react\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\nexport function ShowOffences() {\n  var _useOffences = useOffences(),\n      searching = _useOffences.searching,\n      offences = _useOffences.offences,\n      Serror = _useOffences.Serror;\n\n  if (searching) {\n    return React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, \" Searching... \");\n  }\n\n  if (Serror) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, \"Something's wrong: \", Serror.message);\n  }\n\n  var columns = [{\n    Header: \"Offences List\",\n    accessor: ''\n  }]; // const [filter, setFilter] = useState([]);\n\n  return React.createElement(ReactTable, {\n    data: offences,\n    columns: columns,\n    filterable: true,\n    defaultFilterMethod: function defaultFilterMethod(filter, row) {\n      return filterCaseInsensitive(filter, row);\n    },\n    defaultPageSize: 10,\n    pageSizeOptions: [5, 10, 20, 40],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  });\n}\n\nfunction filterCaseInsensitive(filter, row) {\n  var id = filter.pivotId || filter.id;\n  return row[id] !== undefined ? String(row[id].toLowerCase()).startsWith(filter.value.toLowerCase()) : true;\n}\n\nfunction OpenSource() {\n  var url = \"https://cab230.hackhouse.sh/offences\";\n  return fetch(url).then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    return res.offences;\n  });\n}\n\nfunction useOffences() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      searching = _useState2[0],\n      SetSearching = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      offences = _useState4[0],\n      SetOffence = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Serror = _useState6[0],\n      setError = _useState6[1];\n\n  useEffect(function () {\n    OpenSource().then(function (offences) {\n      SetOffence(offences);\n      SetSearching(false);\n    }).catch(function (e) {\n      setError(e);\n      SetSearching(false);\n    });\n  }, []);\n  return {\n    searching: searching,\n    offences: offences,\n    Serror: Serror\n  };\n}","map":{"version":3,"sources":["/Users/jackhu/Downloads/crime/src/offences.js"],"names":["React","ReactDOM","useState","useEffect","ReactTable","ShowOffences","useOffences","searching","offences","Serror","message","columns","Header","accessor","filter","row","filterCaseInsensitive","id","pivotId","undefined","String","toLowerCase","startsWith","value","OpenSource","url","fetch","then","res","json","SetSearching","SetOffence","setError","catch","e"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState, useEffect } from \"react\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\n\nexport function ShowOffences() {\n    const { searching, offences, Serror } = useOffences();\n    if (searching) {\n        return <div className=\"loading\"> Searching... </div>\n    }\n\n    if (Serror) {\n        return <p>Something's wrong: {Serror.message}</p>\n    }\n\n    const columns = [{\n        Header: \"Offences List\" ,\n        accessor: ''\n    }]\n    // const [filter, setFilter] = useState([]);\n    return (\n              <ReactTable\n                data={offences}\n                columns={columns}\n                filterable\n                defaultFilterMethod={(filter, row) => filterCaseInsensitive(filter, row) }\n                defaultPageSize = {10}\n                pageSizeOptions = {[5,10,20,40]}\n              />\n    )\n}\nfunction filterCaseInsensitive(filter, row) {\n    const id = filter.pivotId || filter.id;\n    return (\n        row[id] !== undefined ?\n            String(row[id].toLowerCase()).startsWith(filter.value.toLowerCase())\n        :\n            true\n    );\n}\nfunction OpenSource() {\n    const url = \"https://cab230.hackhouse.sh/offences\"\n    return fetch(url)\n        .then((res) => res.json())\n        .then((res) => res.offences)\n\n}\n\nfunction useOffences() {\n    const [searching, SetSearching] = useState(true);\n    const [offences, SetOffence] = useState([]);\n    const [Serror, setError] = useState(null);\n    useEffect(() => {\n        OpenSource().then((offences) => {\n            SetOffence(offences);\n            SetSearching(false);\n        }).catch((e) => {\n            setError(e);\n            SetSearching(false);\n        })\n    }, []);\n\n    return {\n        searching,\n        offences,\n        Serror,\n    };\n}"]},"metadata":{},"sourceType":"module"}