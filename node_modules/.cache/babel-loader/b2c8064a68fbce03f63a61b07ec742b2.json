{"ast":null,"code":"import _slicedToArray from \"/Users/jackhu/Downloads/crime/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jackhu/Downloads/crime/src/main.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState, useEffect } from \"react\";\nexport function Main() {\n  var _useOffsCategory = useOffsCategory(),\n      loading = _useOffsCategory.loading,\n      types = _useOffsCategory.types,\n      error = _useOffsCategory.error; // if (loading){\n  //     return <div className=\"loading\"> Searching... </div>\n  // }\n\n\n  if (error) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    }, \"Something's wrong: \", error.message);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"all-offences\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, types.map(function (type) {\n    return React.createElement(Displaying, {\n      key: type,\n      name: type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    });\n  }));\n}\n\nfunction Displaying(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, props.name));\n}\n\nfunction OpenSource() {\n  var url = \"https://newsapi.org/v2/top-headlines?country=us&apiKey=9b31b2cc112849a4b433d048f54a15f8\";\n  return fetch(url).then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    return res.offs;\n  }).then(function (offs) {\n    return offs.map(function (off) {\n      return off;\n    });\n  });\n}\n\nfunction useOffsCategory() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      types = _useState4[0],\n      setTypes = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  useEffect(function () {\n    OpenSource().then(function (types) {\n      setTypes(types); // setLoading(false);\n    }).catch(function (e) {\n      setError(e);\n      setLoading(false);\n    });\n  }, []);\n  OpenSource();\n  return {\n    loading: loading,\n    types: types,\n    error: error\n  };\n}","map":{"version":3,"sources":["/Users/jackhu/Downloads/crime/src/main.js"],"names":["React","ReactDOM","useState","useEffect","Main","useOffsCategory","loading","types","error","message","map","type","Displaying","props","name","OpenSource","url","fetch","then","res","json","offs","off","setLoading","setTypes","setError","catch","e"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,QAAmC,OAAnC;AAEA,OAAO,SAASC,IAAT,GAAiB;AAAA,yBACUC,eAAe,EADzB;AAAA,MACbC,OADa,oBACbA,OADa;AAAA,MACLC,KADK,oBACLA,KADK;AAAA,MACCC,KADD,oBACCA,KADD,EAGpB;AACA;AACA;;;AAEA,MAAIA,KAAJ,EAAU;AACN,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAuBA,KAAK,CAACC,OAA7B,CAAP;AACH;;AACD,SACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,KAAK,CAACG,GAAN,CAAU,UAACC,IAAD;AAAA,WACP,oBAAC,UAAD;AAAY,MAAA,GAAG,EAAEA,IAAjB;AAAuB,MAAA,IAAI,EAAEA,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADO;AAAA,GAAV,CADL,CADJ;AAOH;;AAED,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACvB,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,KAAK,CAACC,IAAV,CADF,CADF;AAKD;;AAEH,SAASC,UAAT,GAAuB;AACnB,MAAMC,GAAG,4FAAT;AACA,SAAOC,KAAK,CAACD,GAAD,CAAL,CACJE,IADI,CACC,UAACC,GAAD;AAAA,WAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,GADD,EAEJF,IAFI,CAEC,UAACC,GAAD;AAAA,WAASA,GAAG,CAACE,IAAb;AAAA,GAFD,EAGJH,IAHI,CAGE,UAAAG,IAAI;AAAA,WAAIA,IAAI,CAACX,GAAL,CAAS,UAAAY,GAAG;AAAA,aAAIA,GAAJ;AAAA,KAAZ,CAAJ;AAAA,GAHN,CAAP;AAIH;;AAED,SAASjB,eAAT,GAA4B;AAAA,kBACMH,QAAQ,CAAC,IAAD,CADd;AAAA;AAAA,MACjBI,OADiB;AAAA,MACRiB,UADQ;;AAAA,mBAEErB,QAAQ,CAAC,EAAD,CAFV;AAAA;AAAA,MAEjBK,KAFiB;AAAA,MAEViB,QAFU;;AAAA,mBAGEtB,QAAQ,CAAC,IAAD,CAHV;AAAA;AAAA,MAGjBM,KAHiB;AAAA,MAGViB,QAHU;;AAIxBtB,EAAAA,SAAS,CAAC,YAAM;AACZY,IAAAA,UAAU,GAAGG,IAAb,CAAkB,UAACX,KAAD,EAAW;AACzBiB,MAAAA,QAAQ,CAACjB,KAAD,CAAR,CADyB,CAEzB;AACH,KAHD,EAGGmB,KAHH,CAGS,UAACC,CAAD,EAAO;AACZF,MAAAA,QAAQ,CAACE,CAAD,CAAR;AACAJ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAND;AAOH,GARQ,EAQP,EARO,CAAT;AAUAR,EAAAA,UAAU;AACV,SAAM;AACFT,IAAAA,OAAO,EAAPA,OADE;AAEFC,IAAAA,KAAK,EAALA,KAFE;AAGFC,IAAAA,KAAK,EAALA;AAHE,GAAN;AAKH","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {useState, useEffect} from  \"react\";\n\nexport function Main () {\n    const {loading,types,error} = useOffsCategory();\n\n    // if (loading){\n    //     return <div className=\"loading\"> Searching... </div>\n    // }\n\n    if (error){\n        return <p>Something's wrong: {error.message}</p>\n    }\n    return (\n        <div className=\"all-offences\">\n            {types.map((type) =>(\n                <Displaying key={type} name={type} />\n            ))}\n        </div>\n    );\n}\n\nfunction Displaying(props) {\n    return (\n      <div>\n        <p>{props.name}</p>\n      </div>\n    );\n  }\n\nfunction OpenSource () {\n    const url = `https://newsapi.org/v2/top-headlines?country=us&apiKey=9b31b2cc112849a4b433d048f54a15f8`\n    return fetch(url)\n      .then((res) => res.json())\n      .then((res) => res.offs)\n      .then((offs => offs.map(off => off)));\n}\n\nfunction useOffsCategory () {\n    const [loading, setLoading] = useState(true);\n    const [types, setTypes] = useState([]);\n    const [error, setError] = useState(null);\n    useEffect(() => {\n        OpenSource().then((types) => {\n            setTypes(types);\n            // setLoading(false);\n        }).catch((e) => {\n            setError(e);\n            setLoading(false);\n        })\n    },[]);\n\n    OpenSource();\n    return{\n        loading,\n        types,\n        error,\n    };\n}"]},"metadata":{},"sourceType":"module"}