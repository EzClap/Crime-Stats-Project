{"ast":null,"code":"import _slicedToArray from \"/Users/jackhu/Downloads/crime/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState } from \"react\";\nimport Main from \"./main\"; // let JWT = null;\n\nexport default function useToken(props) {\n  var _useState = useState(token),\n      _useState2 = _slicedToArray(_useState, 2),\n      token = _useState2[0],\n      SetToken = _useState2[1];\n\n  SetToken(props);\n  return {\n    token: token\n  };\n}\nexport function useAuthenticated() {\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isthru = _useState4[0],\n      setThru = _useState4[1];\n\n  JWT != null ? setThru(true) : setThru(false);\n  return {\n    isthru: isthru\n  };\n}\nexport var RegAcc = function RegAcc(emailinput, passcodeinput) {\n  fetch(\"https://cab230.hackhouse.sh/register\", {\n    method: \"POST\",\n    body: \"email=\" + emailinput + \"&password=\" + passcodeinput,\n    headers: {\n      \"Content-type\": \"application/x-www-form-urlencoded\"\n    }\n  }).then(function (response) {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw new Error(\"Network response was not ok\");\n  }).then(function (result) {\n    var queryDiv = document.getElementById(\"query\");\n    queryDiv.innerHTML = JSON.stringify(result);\n    RegAcc.disabled = true;\n  }).catch(function (error) {\n    console.log(\"There has been a problem with your fetch operation: \", error.message);\n  });\n};\nexport var LoginAcc = function LoginAcc(emailinput, passcodeinput) {\n  fetch(\"https://cab230.hackhouse.sh/login\", {\n    method: \"POST\",\n    body: \"email=\" + emailinput + \"&password=\" + passcodeinput,\n    headers: {\n      \"Content-type\": \"application/x-www-form-urlencoded\"\n    },\n    redirect: \"follow\"\n  }).then(function (response) {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw new Error(\"Network response was not ok.\");\n  }).then(function (result) {\n    var queryDiv = document.getElementById(\"query\");\n    queryDiv.innerHTML = JSON.stringify(result);\n    useToken(result.token);\n  }).catch(function (error) {\n    console.log(\"There has been a problem with your fetch operation: \", error.message);\n  });\n};","map":{"version":3,"sources":["/Users/jackhu/Downloads/crime/src/api.js"],"names":["React","ReactDOM","useState","Main","useToken","props","token","SetToken","useAuthenticated","isthru","setThru","JWT","RegAcc","emailinput","passcodeinput","fetch","method","body","headers","then","response","ok","json","Error","result","queryDiv","document","getElementById","innerHTML","JSON","stringify","disabled","catch","error","console","log","message","LoginAcc","redirect"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState } from \"react\";\nimport Main from \"./main\";\n\n// let JWT = null;\n\nexport default function useToken(props) {\n    const [token, SetToken] = useState(token);\n    SetToken(props)\n    return {\n        token\n    }\n}\nexport function useAuthenticated() {\n    const [isthru, setThru] = useState(false);\n    (JWT != null) ? setThru(true) : setThru(false);\n\n    return {\n        isthru,\n    };\n}\n\nexport const RegAcc = (emailinput, passcodeinput) => {\n    fetch(\"https://cab230.hackhouse.sh/register\", {\n        method: \"POST\",\n        body: \"email=\" + emailinput + \"&password=\" + passcodeinput,\n        headers: {\n            \"Content-type\": \"application/x-www-form-urlencoded\"\n        },\n    })\n        .then(function (response) {\n            if (response.ok) {\n                return response.json();\n            }\n            throw new Error(\"Network response was not ok\");\n        })\n        .then(function (result) {\n            let queryDiv = document.getElementById(\"query\");\n            queryDiv.innerHTML = JSON.stringify(result);\n            RegAcc.disabled = true;\n\n        })\n        .catch(function (error) {\n            console.log(\n                \"There has been a problem with your fetch operation: \",\n                error.message\n            );\n        });\n}\n\nexport const LoginAcc = (emailinput, passcodeinput) => {\n    fetch(\"https://cab230.hackhouse.sh/login\", {\n        method: \"POST\",\n        body: \"email=\" + emailinput + \"&password=\" + passcodeinput,\n        headers: {\n            \"Content-type\": \"application/x-www-form-urlencoded\"\n        },\n        redirect: \"follow\",\n    })\n        .then(function (response) {\n            if (response.ok) {\n                return response.json();\n            }\n            throw new Error(\"Network response was not ok.\");\n        })\n\n        .then(function (result) {\n            let queryDiv = document.getElementById(\"query\");\n            queryDiv.innerHTML = JSON.stringify(result);\n            useToken(result.token);\n        })\n        .catch(function (error) {\n            console.log(\n                \"There has been a problem with your fetch operation: \",\n                error.message\n            );\n        });\n}"]},"metadata":{},"sourceType":"module"}