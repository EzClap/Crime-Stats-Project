{"ast":null,"code":"import _slicedToArray from \"/Users/jackhu/Downloads/crime/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jackhu/Downloads/crime/src/offences.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState, useEffect } from \"react\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\nexport function ShowOffences() {\n  var _useOffences = useOffences(),\n      searching = _useOffences.searching,\n      offences = _useOffences.offences,\n      Serror = _useOffences.Serror;\n\n  if (searching) {\n    return React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, \" Searching... \");\n  }\n\n  if (Serror) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, \"Something's wrong: \", Serror.message);\n  }\n\n  var columns = [{\n    Header: \"Offences List\",\n    accessor: ''\n  }];\n  return (// <div className=\"search-display\">\n    //     <div>\n    //         {offences.map((offence) => (\n    //                 <Displaying key={offence} name={offence} />\n    //             ))}\n    //     </div>\n    // </div>\n    React.createElement(ReactTable, {\n      data: offences,\n      columns: columns,\n      defaultPageSize: 10,\n      pageSizeOptions: [5, 10, 20, 40],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    })\n  );\n}\n\nfunction Displaying(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, props.name);\n}\n\nfunction OpenSource() {\n  var url = \"https://cab230.hackhouse.sh/offences\";\n  return fetch(url).then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    return res.offences;\n  });\n}\n\nfunction useOffences() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      searching = _useState2[0],\n      SetSearching = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      offences = _useState4[0],\n      SetOffence = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Serror = _useState6[0],\n      setError = _useState6[1];\n\n  useEffect(function () {\n    OpenSource().then(function (offences) {\n      SetOffence(offences);\n      SetSearching(false);\n    }).catch(function (e) {\n      setError(e);\n      SetSearching(false);\n    });\n  }, []);\n  return {\n    searching: searching,\n    offences: offences,\n    Serror: Serror\n  };\n}","map":{"version":3,"sources":["/Users/jackhu/Downloads/crime/src/offences.js"],"names":["React","ReactDOM","useState","useEffect","ReactTable","ShowOffences","useOffences","searching","offences","Serror","message","columns","Header","accessor","Displaying","props","name","OpenSource","url","fetch","then","res","json","SetSearching","SetOffence","setError","catch","e"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAO,6BAAP;AAEA,OAAO,SAASC,YAAT,GAAwB;AAAA,qBACaC,WAAW,EADxB;AAAA,MACnBC,SADmB,gBACnBA,SADmB;AAAA,MACRC,QADQ,gBACRA,QADQ;AAAA,MACEC,MADF,gBACEA,MADF;;AAE3B,MAAIF,SAAJ,EAAe;AACX,WAAO;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACH;;AAED,MAAIE,MAAJ,EAAY;AACR,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAuBA,MAAM,CAACC,OAA9B,CAAP;AACH;;AAED,MAAMC,OAAO,GAAG,CAAC;AACbC,IAAAA,MAAM,EAAE,eADK;AAEbC,IAAAA,QAAQ,EAAE;AAFG,GAAD,CAAhB;AAMA,SACI;AACA;AACA;AACA;AACA;AACA;AACA;AAEM,wBAAC,UAAD;AACE,MAAA,IAAI,EAAEL,QADR;AAEE,MAAA,OAAO,EAAEG,OAFX;AAGE,MAAA,eAAe,EAAI,EAHrB;AAIE,MAAA,eAAe,EAAI,CAAC,CAAD,EAAG,EAAH,EAAM,EAAN,EAAS,EAAT,CAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATV;AAkBH;;AAED,SAASG,UAAT,CAAoBC,KAApB,EAA2B;AACvB,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,KAAK,CAACC,IADX,CADJ;AAKH;;AAED,SAASC,UAAT,GAAsB;AAClB,MAAMC,GAAG,GAAG,sCAAZ;AACA,SAAOC,KAAK,CAACD,GAAD,CAAL,CACFE,IADE,CACG,UAACC,GAAD;AAAA,WAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,GADH,EAEFF,IAFE,CAEG,UAACC,GAAD;AAAA,WAASA,GAAG,CAACb,QAAb;AAAA,GAFH,CAAP;AAIH;;AAED,SAASF,WAAT,GAAuB;AAAA,kBACeJ,QAAQ,CAAC,IAAD,CADvB;AAAA;AAAA,MACZK,SADY;AAAA,MACDgB,YADC;;AAAA,mBAEYrB,QAAQ,CAAC,EAAD,CAFpB;AAAA;AAAA,MAEZM,QAFY;AAAA,MAEFgB,UAFE;;AAAA,mBAGQtB,QAAQ,CAAC,IAAD,CAHhB;AAAA;AAAA,MAGZO,MAHY;AAAA,MAGJgB,QAHI;;AAInBtB,EAAAA,SAAS,CAAC,YAAM;AACZc,IAAAA,UAAU,GAAGG,IAAb,CAAkB,UAACZ,QAAD,EAAc;AAC5BgB,MAAAA,UAAU,CAAChB,QAAD,CAAV;AACAe,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,KAHD,EAGGG,KAHH,CAGS,UAACC,CAAD,EAAO;AACZF,MAAAA,QAAQ,CAACE,CAAD,CAAR;AACAJ,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,KAND;AAOH,GARQ,EAQN,EARM,CAAT;AAUA,SAAO;AACHhB,IAAAA,SAAS,EAATA,SADG;AAEHC,IAAAA,QAAQ,EAARA,QAFG;AAGHC,IAAAA,MAAM,EAANA;AAHG,GAAP;AAKH","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState, useEffect } from \"react\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\n\nexport function ShowOffences() {\n    const { searching, offences, Serror } = useOffences();\n    if (searching) {\n        return <div className=\"loading\"> Searching... </div>\n    }\n\n    if (Serror) {\n        return <p>Something's wrong: {Serror.message}</p>\n    }\n\n    const columns = [{\n        Header: \"Offences List\" ,\n        accessor: ''\n    }]\n   \n\n    return (\n        // <div className=\"search-display\">\n        //     <div>\n        //         {offences.map((offence) => (\n        //                 <Displaying key={offence} name={offence} />\n        //             ))}\n        //     </div>\n        // </div>\n        \n              <ReactTable\n                data={offences}\n                columns={columns}\n                defaultPageSize = {10}\n                pageSizeOptions = {[5,10,20,40]}\n              />\n        \n\n    )\n}\n\nfunction Displaying(props) {\n    return (\n        <div>\n            {props.name}\n        </div>\n    );\n}\n\nfunction OpenSource() {\n    const url = \"https://cab230.hackhouse.sh/offences\"\n    return fetch(url)\n        .then((res) => res.json())\n        .then((res) => res.offences)\n\n}\n\nfunction useOffences() {\n    const [searching, SetSearching] = useState(true);\n    const [offences, SetOffence] = useState([]);\n    const [Serror, setError] = useState(null);\n    useEffect(() => {\n        OpenSource().then((offences) => {\n            SetOffence(offences);\n            SetSearching(false);\n        }).catch((e) => {\n            setError(e);\n            SetSearching(false);\n        })\n    }, []);\n\n    return {\n        searching,\n        offences,\n        Serror,\n    };\n}"]},"metadata":{},"sourceType":"module"}