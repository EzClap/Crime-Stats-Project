{"ast":null,"code":"import _slicedToArray from \"/Users/jackhu/Downloads/crime/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jackhu/Downloads/crime/src/main.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState, useEffect } from \"react\";\nimport { SearchBar, useSearch } from \"./search\";\nexport function Main() {\n  var _useOffsCategory = useOffsCategory(),\n      loading = _useOffsCategory.loading,\n      types = _useOffsCategory.types,\n      error = _useOffsCategory.error;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setsearch = _useState2[1];\n\n  if (search != \"\") {\n    var _useSearch = useSearch(search),\n        _searching = _useSearch.searching,\n        _offences = _useSearch.offences,\n        Serror = _useSearch.Serror;\n  }\n\n  if (loading || searching) {\n    return React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    }, \" Searching... \");\n  }\n\n  if (error) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, \"Something's wrong: \", error.message);\n  }\n\n  if (search === \"\") {\n    return React.createElement(\"div\", {\n      className: \"search-display\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      onSubmit: setsearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }), types.map(function (type) {\n      return React.createElement(Displaying, {\n        key: type,\n        name: type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      });\n    })));\n  } else {\n    return React.createElement(\"div\", {\n      className: \"search-display\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      onSubmit: setsearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), offences.map(function (offence) {\n      return React.createElement(Displayingmulti, {\n        key: offence,\n        name: offence.LGA,\n        number: offence.total,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      });\n    })));\n  }\n}\n\nfunction Displayingmulti(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, props.name), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, props.number));\n}\n\nfunction Displaying(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, props.name));\n}\n\nfunction OpenSource() {\n  var url = \"https://cab230.hackhouse.sh/offences\";\n  return fetch(url).then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    return res.offences;\n  });\n}\n\nfunction useOffsCategory() {\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      types = _useState6[0],\n      setTypes = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  useEffect(function () {\n    OpenSource().then(function (types) {\n      setTypes(types);\n      setLoading(false);\n    }).catch(function (e) {\n      setError(e);\n      setLoading(false);\n    });\n  }, []);\n  OpenSource();\n  return {\n    loading: loading,\n    types: types,\n    error: error\n  };\n}","map":{"version":3,"sources":["/Users/jackhu/Downloads/crime/src/main.js"],"names":["React","ReactDOM","useState","useEffect","SearchBar","useSearch","Main","useOffsCategory","loading","types","error","search","setsearch","searching","offences","Serror","message","map","type","offence","LGA","total","Displayingmulti","props","name","number","Displaying","OpenSource","url","fetch","then","res","json","setLoading","setTypes","setError","catch","e"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useState, useEffect } from \"react\";\nimport { SearchBar, useSearch } from \"./search\";\n\nexport function Main() {\n    const { loading, types, error } = useOffsCategory();\n    const [search, setsearch] = useState(\"\")\n    if (search != \"\") {\n        const { searching, offences, Serror } = useSearch(search);\n    }\n    if (loading || searching) {\n        return <div className=\"loading\"> Searching... </div>\n    }\n\n    if (error) {\n        return <p>Something's wrong: {error.message}</p>\n    }\n\n    if (search === \"\") {\n        return (\n            <div className=\"search-display\">\n                <div>\n                    <SearchBar onSubmit={setsearch} />\n                    {types.map((type) => (\n                        <Displaying key={type} name={type} />\n                    ))}\n                </div>\n            </div>\n        )\n    }\n    else {\n        return (\n            <div className=\"search-display\">\n                <div>\n                    <SearchBar onSubmit={setsearch} />\n\n                    {offences.map((offence) => (\n                        <Displayingmulti key={offence} name={offence.LGA} number={offence.total} />\n                    ))}\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction Displayingmulti(props) {\n    return (\n        <div>\n            <p>{props.name}</p>\n            <p>{props.number}</p>\n        </div>\n    );\n}\n\nfunction Displaying(props) {\n    return (\n        <div>\n            <p>{props.name}</p>\n        </div>\n    );\n}\n\nfunction OpenSource() {\n    const url = \"https://cab230.hackhouse.sh/offences\"\n    return fetch(url)\n        .then((res) => res.json())\n        .then((res) => res.offences)\n}\n\nfunction useOffsCategory() {\n    const [loading, setLoading] = useState(true);\n    const [types, setTypes] = useState([]);\n    const [error, setError] = useState(null);\n    useEffect(() => {\n        OpenSource().then((types) => {\n            setTypes(types);\n            setLoading(false);\n        }).catch((e) => {\n            setError(e);\n            setLoading(false);\n        })\n    }, []);\n\n    OpenSource();\n    return {\n        loading,\n        types,\n        error,\n    };\n}"]},"metadata":{},"sourceType":"module"}