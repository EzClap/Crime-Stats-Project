{"version":3,"sources":["lognreg.js","authen.js","offences.js","newsearch.js","index.js"],"names":["LoginBox","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","renderRedirect","state","loggedin","react_default","a","createElement","react_router","to","renderLogout","loggedout","LoginAcc","emailinput","passcodeinput","fetch","method","body","headers","Content-type","redirect","then","response","ok","json","Error","result","sessionStorage","setItem","token","setState","catch","error","console","log","message","emailAcc","passCode","errors","changeEmail","bind","assertThisInitialized","changePass","event","target","value","clearValidErr","e","showValidErr","elem","msg","prevState","concat","toConsumableArray","newArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","push","return","_this2","emailErr","passErr","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getItem","className","type","onClick","removeItem","htmlFor","name","id","placeholder","onChange","submitLogin","React","Component","RegisterBox","_this3","RegAcc","disabled","submitReg","AuthenMain","isLoginOpen","isRegisterOpen","showLogin","showReg","lognreg_LoginBox","lognreg_RegisterBox","ShowOffences","_useOffences","_useState","useState","_useState2","slicedToArray","searching","SetSearching","_useState3","_useState4","offences","SetOffence","_useState5","_useState6","Serror","setError","useEffect","res","useOffences","columns","Header","accessor","Cell","row","style","textAlign","es","data","filterable","defaultFilterMethod","filter","filterCaseInsensitive","defaultPageSize","pageSizeOptions","pivotId","String","toLowerCase","startsWith","AnyReactComponent","_ref","text","Search","fetchdata","key","getParam","head","Authorization","query","offsearch","filterlga","areasearch","filterage","agesearch","filtergender","gendersearch","filteryear","yearsearch","filtermonth","monthsearch","encodeURI","results","map","off","LGA","total","GPS","latlng","lat","lng","weight","nozero","i","length","gpsNozero","updated","chartData","options","heatMapdata","changeOff","changeArea","optionAge","optionGender","changeYear","changeMonth","Buttons","area","numbers","number","rColor","rHighlight","r","Math","floor","random","g","b","c","h","labels","datasets","label","backgroundColor","highlight","positions","radius","opacity","getChartData","updateHeatmap","width","react_chartjs_2_es","title","display","fontSize","legend","height","lib_default","bootstrapURLKeys","center","zoom","heatmapLibrary","heatmap","newsearch_AnyReactComponent","App","react_router_dom","Button","variant","path","component","exact","rootElement","document","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.ac2022c9.chunk.js","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\n\n//Login/register function logic\n//login fetch and authenticate\nclass LoginBox extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            emailAcc: \"\",\n            passCode: \"\",\n            errors: [],\n            loggedin: false,\n            loggedout: false,\n        };\n\n        this.changeEmail = this.changeEmail.bind(this);\n        this.changePass = this.changePass.bind(this);\n    }\n\n\n    changeEmail(event) {\n        this.setState({ emailAcc: event.target.value });\n        this.clearValidErr(\"emailAcc\");\n    }\n    changePass(event) {\n        this.setState({ passCode: event.target.value });\n        this.clearValidErr(\"passCode\");\n    }\n    submitLogin(e) {\n        if (this.state.emailAcc === \"\") {\n            this.showValidErr(\"emailAcc\", \"email cannot be empty!\")\n        }\n        if (this.state.passCode === \"\") {\n            this.showValidErr(\"passCode\", \"password cannot be empty!\")\n        }\n        this.LoginAcc(this.state.emailAcc, this.state.passCode);\n\n    }\n\n    showValidErr(elem, msg) {\n        this.setState((prevState) => ({ errors: [...prevState.errors, { elem, msg }] }));\n    }\n\n    clearValidErr(elem) {\n        this.setState((prevState) => {\n            let newArr = [];\n            for (let err of prevState.errors) {\n                if (elem !== err.elem) {\n                    newArr.push(err);\n                }\n            }\n            return { errors: newArr };\n        })\n    }\n\n\n    renderRedirect = () => {\n        if (this.state.loggedin) {\n            return <Redirect to='/' />\n        }\n    }\n    renderLogout = () => {\n        if (this.state.loggedout) {\n            return <Redirect to='/' />\n        }\n    }\n    //Login fetch\n    LoginAcc = (emailinput, passcodeinput) => {\n        fetch(\"http://13.237.111.17/login\", {\n        // fetch(\"https://172.22.30.87/login\", {\n            method: \"POST\",\n            body: \"email=\" + emailinput + \"&password=\" + passcodeinput,\n            headers: {\n                \"Content-type\": \"application/x-www-form-urlencoded\"\n            },\n            redirect: \"follow\",\n        })\n            .then(function (response) {\n                if (response.ok) {\n                    return response.json();\n                }\n                throw new Error(\"Network response was not ok.\");\n            })\n            .then(function (result) {\n                sessionStorage.setItem(\"token\", result.token);\n            })\n            .then(\n                this.setState({\n                    loggedin: true\n                })\n            )\n            .catch(function (error) {\n                console.log(\n                    \"There has been a problem with your fetch operation: \",\n                    error.message\n                );\n            });\n    }\n    //render login\n    render() {\n        let emailErr = null, passErr = null;\n\n        for (let err of this.state.errors) {\n            if (err.elem === \"emailAcc\") {\n                emailErr = err.msg;\n            }\n            if (err.elem === \"passCode\") {\n                passErr = err.msg;\n            }\n        }\n\n        if (sessionStorage.getItem(\"token\") !== null) {\n            return (\n                <div className=\"signed-in\">\n                    You are signed in!\n                <button type=\"button\" className=\"logout-btn\" onClick={() => {\n                        sessionStorage.removeItem(\"token\");\n                        this.setState({ loggedout: true })\n                    }}>Sign Out</button>\n                    {this.renderLogout()}\n                </div>\n            )\n        }\n        else {\n                return (\n                    <div className=\"inner-container\">\n                        <div className=\"header\">\n                            SIGN IN NOW\n            </div>\n\n                        <div className=\"box\">\n                            <div className=\"input-group\">\n                                <label htmlFor=\"email\">Email</label>\n                                <input type=\"email\" name=\"email\" id=\"email\" className=\"login-input\" placeholder=\"Your email address\" value={this.state.emailAcc}\n                                    onChange={this.changeEmail} />\n                                <small className=\"danger-error\">{emailErr ? emailErr : \"\"}</small>\n                            </div>\n\n                            <div className=\"input-group\">\n\n                                <label htmlFor=\"pwd\">Password</label>\n                                <input type=\"password\" name=\"pwd\" id=\"pwd\" className=\"login-input\" placeholder=\"Password\" value={this.state.passCode}\n                                    onChange={this.changePass} />\n                                <small className=\"danger-error\">{passErr ? passErr : \"\"}</small>\n                            </div>\n\n                            <button type=\"button\" className=\"login-btn\" onClick={this.submitLogin.bind(this)}>Sign in</button>\n                            {this.renderRedirect()}\n\n                        </div>\n                    </div>\n                );\n            \n        }\n    }\n}\n\n//register fetch and passing input box to backend\nclass RegisterBox extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            emailAcc: \"\",\n            passCode: \"\",\n        };\n\n        this.changeEmail = this.changeEmail.bind(this);\n        this.changePass = this.changePass.bind(this);\n    }\n\n    changeEmail(event) {\n        this.setState({ emailAcc: event.target.value });\n    }\n\n    changePass(event) {\n        this.setState({ passCode: event.target.value });\n    }\n\n    submitReg(e) {\n        this.RegAcc(this.state.emailAcc, this.state.passCode);\n    }\n\n    //register fetch \n    RegAcc = (emailinput, passcodeinput) => {\n        \n        fetch(\"http://13.237.111.17/register\", {\n        // fetch(\"https://172.22.30.87/register\", {\n            method: \"POST\",\n            body: \"email=\" + emailinput + \"&password=\" + passcodeinput,\n            headers: {\n                \"Content-type\": \"application/x-www-form-urlencoded\"\n            },\n        })\n            .then(function (response) {\n                if (response.ok) {\n                    return response.json();\n                }\n                throw new Error(\"Network response was not ok\");\n            })\n            .then(function (result) {\n                this.RegAcc.disabled = true;\n\n            })\n            .catch(function (error) {\n                console.log(\n                    \"There has been a problem with your fetch operation: \",\n                    error.message\n                );\n            });\n    }\n\n    render() {\n\n        return (\n            <div className=\"inner-container\">\n                <div className=\"header\">\n                    REGISTER ACCOUNT\n            </div>\n                <div className=\"box\">\n\n                    <div className=\"input-group\">\n\n                        <label htmlFor=\"email\">Email</label>\n                        <input type=\"text\" name=\"email\" className=\"reg-input\" placeholder=\"Your email address\" value={this.state.emailAcc}\n                            onChange={this.changeEmail} />\n                    </div>\n\n                    <div className=\"input-group\">\n\n                        <label htmlFor=\"pwd\">Password</label>\n                        <input type=\"password\" name=\"pwd\" className=\"reg-input\" placeholder=\"Password\" value={this.state.passCode}\n                            onChange={this.changePass} />\n                    </div>\n\n                    <button type=\"button\" className=\"reg-btn\" onClick={this.submitReg.bind(this)}>Sign up</button>\n\n                </div>\n\n\n            </div>\n        );\n    }\n\n}\n\n\nexport { LoginBox, RegisterBox } ","\nimport React from \"react\";\nimport { LoginBox, RegisterBox } from \"./lognreg\";\n\n//Authentication login/register GUI\nclass AuthenMain extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoginOpen: true,\n            isRegisterOpen: false,\n        };\n    }\n\n    showReg() {\n        this.setState({ isRegisterOpen: true, isLoginOpen: false });\n    }\n\n    showLogin() {\n        this.setState({ isLoginOpen: true, isRegisterOpen: false });\n    }\n\n\n    render() {\n        return (\n            <div className=\"root-container\">\n                <div className=\"box-controller\">\n                    <div className={\"controller\" + (this.state.isLoginOpen ? \"-selected\" : \"\")}\n                        onClick={this.showLogin.bind(this)}>\n                        Log In\n                </div>\n                    <div className={\"controller\" + (this.state.isRegisterOpen ? \"-selected\" : \"\")}\n                        onClick={this.showReg.bind(this)}>\n                        Sign up\n                </div>\n\n                </div>\n\n                <div className=\"box-container\">\n                    {this.state.isLoginOpen && <LoginBox />}\n                    {this.state.isRegisterOpen && <RegisterBox />}\n\n                </div>\n                <div className=\"ocean\">\n                    <div className=\"wave\"></div>\n                    <div className=\"wave\"></div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport { AuthenMain } \n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\n\n//offences list functions\n//useState to render offence list\nexport function ShowOffences() {\n    const { searching, offences, Serror } = useOffences();\n    if (searching) {\n        return <div className=\"loading\"></div>\n    }\n\n    if (Serror) {\n        return <p>Something's wrong: {Serror.message}</p>\n    }\n\n    const columns = [{\n        Header: \"Offences List\",\n        accessor: '',\n        Cell: row => (\n            <div style={{ textAlign: \"center\" }}>{row.value}</div>),\n    }]\n\n    return (\n        <div className=\"offence-table\">\n            <ReactTable\n                data={offences}\n                columns={columns}\n                filterable\n                defaultFilterMethod={(filter, row) => filterCaseInsensitive(filter, row)}\n                defaultPageSize={10}\n                pageSizeOptions={[10]}\n                className=\"-striped\"\n            />\n            <div className=\"ocean\">\n                <div className=\"wave\"></div>\n                <div className=\"wave\"></div>\n            </div>\n        </div>\n    )\n}\n\n//remove case sensitivtiy in react table during table search\nexport function filterCaseInsensitive(filter, row) {\n    const id = filter.pivotId || filter.id;\n    return (\n        row[id] !== undefined ?\n            String(row[id].toLowerCase()).startsWith(filter.value.toLowerCase())\n            :\n            true\n    );\n}\n\n//fetch data from offences list in the data backend\nfunction OpenSource() {\n    // const url = \"https://172.22.30.87/offences\"\n    const url = \"http://13.237.111.17/offences\"\n    return fetch(url)\n        .then((res) => res.json())\n        .then((res) => res.offences)\n\n}\n\n//useState function for offence rendering state change\nfunction useOffences() {\n    const [searching, SetSearching] = useState(true);\n    const [offences, SetOffence] = useState([]);\n    const [Serror, setError] = useState(null);\n    useEffect(() => {\n        OpenSource().then((offences) => {\n            SetOffence(offences);\n            SetSearching(false);\n        }).catch((e) => {\n            setError(e);\n            SetSearching(false);\n        })\n    }, []);\n\n    return {\n        searching,\n        offences,\n        Serror,\n    };\n}","import React from \"react\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\nimport { filterCaseInsensitive } from \"./offences\";\nimport { Doughnut } from 'react-chartjs-2';\nimport GoogleMapReact from 'google-map-react';\n\n//map marker component\nconst AnyReactComponent = ({ text }) => <div>{text}</div>;\n\n//Advanced search class\nclass Search extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            offsearch: \"\",\n            areasearch: \"\",\n            agesearch: \"\",\n            gendersearch: \"\",\n            yearsearch: \"\",\n            monthsearch: \"\",\n            results: [],\n            chartData: {},\n            options: {},\n            GPS: [],\n            heatMapdata: {},\n            updated: false,\n        }\n        //Binding method to this class\n        this.changeOff = this.changeOff.bind(this);\n        this.changeArea = this.changeArea.bind(this);\n        this.optionAge = this.optionAge.bind(this);\n        this.optionGender = this.optionGender.bind(this);\n        this.changeYear = this.changeYear.bind(this);\n        this.changeMonth = this.changeMonth.bind(this);\n        this.Buttons = this.Buttons.bind(this);\n\n\n\n    }\n    //Setting input box items into Search filters\n    changeOff(event) {\n        this.setState({ offsearch: event.target.value });\n    }\n    changeArea(event) {\n        this.setState({ areasearch: event.target.value });\n    }\n    optionAge(event) {\n        this.setState({ agesearch: event.target.value });\n    }\n    optionGender(event) {\n        this.setState({ gendersearch: event.target.value });\n    }\n    changeYear(event) {\n        this.setState({ yearsearch: event.target.value });\n    }\n    changeMonth(event) {\n        this.setState({ monthsearch: event.target.value });\n    }\n\n    //Turn Search data into processable chartData\n    //Coloring Doughnut chart\n    getChartData() {\n        let area = this.state.results.map((area) => {\n            return (area.LGA)\n        })\n        let numbers = this.state.results.map((number) => {\n            return (number.total)\n        })\n        let rColor = [];\n        let rHighlight = [];\n        for (var i in area) {\n            let r = Math.floor(Math.random() * 200);\n            let g = Math.floor(Math.random() * 200);\n            let b = Math.floor(Math.random() * 200);\n            let c = 'rgb(' + r + ', ' + g + ', ' + b + ')';\n            let h = 'rgb(' + (r + 20) + ', ' + (g + 20) + ', ' + (b + 20) + ')';\n            rColor[i] = c;\n            rHighlight[i] = h;\n        }\n        this.setState({\n            chartData: {\n                labels: area,\n                datasets: [{\n                    label: 'Crime Stats in Pie Chart',\n                    data: numbers,\n                    backgroundColor: rColor,\n                    highlight: rHighlight,\n                }],\n\n            },\n        })\n    }\n    //Get search result from API then organise into states for updates\n    fetchdata = () => {\n        let key = sessionStorage.getItem(\"token\");\n        let getParam = { method: \"GET\" };\n        let head = { Authorization: `Bearer ${key}` };\n\n        getParam.headers = head;\n\n        \n        // const baseUrl = \"https://172.22.30.87/search?\";\n        const baseUrl = \"http://13.237.111.17/search?\";\n        const query = \"offence=\" + this.state.offsearch;\n        const filterlga = \"area=\" + this.state.areasearch;\n        const filterage = \"age=\" + this.state.agesearch;\n        const filtergender = \"gender=\" + this.state.gendersearch;\n        const filteryear = \"year=\" + this.state.yearsearch;\n        const filtermonth = \"month=\" + this.state.monthsearch;\n\n        let url = baseUrl + query + \"&\" + filterlga + \"&\" + filterage + \"&\" + filtergender + \"&\" + filteryear + \"&\" + filtermonth;\n\n        fetch(encodeURI(url), getParam)\n            .then(result => {\n                return (result.json());\n            })\n            .then(data => {\n                //Fill in data for the table \n                let results = data.result.map((off) => {\n                    return ({\n                        LGA: off.LGA,\n                        total: off.total\n                    })\n                })\n                //Fill in data for Heat map \n                let GPS = data.result.map((latlng) => {\n                    return ({\n                        lat: latlng.lat,\n                        lng: latlng.lng,\n                        weight: latlng.total,\n                    })\n                })\n                let nozero = [];\n                for (var i = 0; i < results.length; i++){\n                    if(results[i].total !== 0){\n                        nozero.push(results[i]);\n                    }\n                }\n                let gpsNozero = [];\n                for (var i = 0; i < GPS.length; i++){\n                    if(GPS[i].weight !== 0){\n                        gpsNozero.push(GPS[i]);\n                    }\n                }\n                this.setState({ results: nozero })\n                this.setState({ GPS: gpsNozero })\n            })\n            .then(\n                //Clear Map for re-rendering later\n                //Heatmap is not updated dynamically\n                this.setState({\n                    updated: false,\n                })\n            )\n            .catch(function (error) {\n                console.log(\n                    \"There has been a problem with your fetch operation: \",\n                    error.message\n                );\n            });\n    }\n    //Update and Show Heat Map \n    updateHeatmap() {\n        this.setState({\n            updated: true,\n            heatMapdata: {\n                positions: this.state.GPS,\n                options: {\n                    radius: 50,\n                    opacity: 0.8,\n                }\n            }\n        })\n    }\n    //All buttons for filtering API\n    Buttons() {\n        return (\n            <div className=\"all-filters\">\n                <div className=\"filter-btns\">\n                    <input\n                        className=\"filter-input-offence\"\n                        name=\"offence\"\n                        id=\"offence\"\n                        type=\"offence\"\n                        placeholder=\"Search Offence (Required)\"\n                        value={this.state.offsearch}\n                        onChange={this.changeOff}\n                    />\n\n                    <input\n                        className=\"filter-input\"\n                        name=\"lga\"\n                        id=\"lga\"\n                        type=\"lga\"\n                        placeholder=\"Search Location\"\n                        value={this.state.areasearch}\n                        onChange={this.changeArea}\n                    />\n\n                    <select className=\"age-option\" id=\"age\" value={this.state.agesearch} onChange={this.optionAge}>\n                        <option value=\"\">Age</option>\n                        <option value=\"Adult\">Adult</option>\n                        <option value=\"Juvenile\">Juvenile</option>\n                    </select>\n\n                    <select className=\"sex-option\" id=\"sex\" value={this.state.gendersearch} onChange={this.optionGender}>\n                        <option value=\"\">Gender</option>\n                        <option value=\"Male\">Male</option>\n                        <option value=\"Female\">Female</option>\n                        <option value=\"Not Stated\">Not Stated</option>\n                    </select>\n\n                </div>\n                <div className=\"yearmonth-filter\">\n                    <input\n                        className=\"filter-input-yearmonth\"\n                        name=\"year\"\n                        id=\"year\"\n                        type=\"year\"\n                        placeholder=\"2003,2005 (Year: 2001-2019)\"\n                        value={this.state.yearsearch}\n                        onChange={this.changeYear}\n                    />\n                    <input\n                        className=\"filter-input-yearmonth\"\n                        name=\"month\"\n                        id=\"month\"\n                        type=\"month\"\n                        placeholder=\"1,3,5,4 (Month: 1-12)\"\n                        value={this.state.monthsearch}\n                        onChange={this.changeMonth}\n                    />\n                </div>\n                <div className=\"filter-click\">\n                    <button className=\"search-btn\" id=\"search-button\" type=\"button\" onClick={this.fetchdata}>Search</button>\n                    <button className=\"search-btn\" id=\"show-graph\" type=\"button\" onClick={this.getChartData.bind(this)}>Update Graph Result</button>\n                    <button className=\"search-btn\" id=\"update-map\" type=\"button\" onClick={this.updateHeatmap.bind(this)}>Update Map Result</button>\n                </div>\n            </div>\n        );\n    }\n    //Rendering according to map update\n    render() {\n        if (sessionStorage.getItem(\"token\") !== null) {\n            if (!this.state.updated) {\n                return (\n                    <div className=\"search-page\">\n                        {this.Buttons()}\n                        {/*This is table implementation*/}\n                        <div className=\"search-table\">\n                            <ReactTable\n                                data={this.state.results}\n                                columns={[\n                                    {\n                                        Header: \"LGA\",\n                                        accessor: \"LGA\",\n                                        width: 300,\n                                        Cell: row => (\n                                            <div style={{ textAlign: \"center\" }}>{row.value}</div>),\n\n                                    }, {\n                                        Header: \"Total Number\",\n                                        accessor: \"total\",\n                                        width: 150,\n                                        Cell: row => (\n                                            <div style={{ textAlign: \"center\" }}>{row.value}</div>),\n                                    }\n                                ]}\n                                filterable\n                                defaultFilterMethod={(filter, row) => filterCaseInsensitive(filter, row)}\n                                defaultPageSize={10}\n                                pageSizeOptions={[10]}\n                                className=\"-short\"\n                            />\n                        </div>\n                        {/*This is Graph implementation*/}\n                        <div className=\"clear-float\">\n                            <div className=\"chart-display\">\n                                {console.log(this.state.chartData)}\n                                <Doughnut data={this.state.chartData}\n                                    options={{\n                                        title: {\n                                            display: true,\n                                            text: \"Crime Stats In Queensland\",\n                                            fontSize: 30,\n                                        },\n                                        legend: {\n                                            display: false\n                                        },\n\n                                    }} />\n                            </div>\n                        </div>\n                    </div>\n                );\n            }\n            else {\n                return (\n                    <div className=\"search-page\">\n                        {this.Buttons()}\n                        {/*This is table implementation*/}\n                        <div className=\"search-table\">\n                            <ReactTable\n                                data={this.state.results}\n                                columns={[\n                                    {\n                                        Header: \"LGA\",\n                                        accessor: \"LGA\",\n                                        width: 300,\n                                        Cell: row => (\n                                            <div style={{ textAlign: \"center\" }}>{row.value}</div>),\n\n                                    }, {\n                                        Header: \"Total Number\",\n                                        accessor: \"total\",\n                                        width: 150,\n                                        Cell: row => (\n                                            <div style={{ textAlign: \"center\" }}>{row.value}</div>),\n                                    }\n                                ]}\n                                filterable\n                                defaultFilterMethod={(filter, row) => filterCaseInsensitive(filter, row)}\n                                defaultPageSize={10}\n                                pageSizeOptions={[5, 10, 20, 40]}\n                                className=\"-short\"\n                            />\n                        </div>\n                        {/*This is graph implementation*/}\n                        <div className=\"clear-float\">\n                            <div className=\"chart-display\">\n                                <Doughnut data={this.state.chartData}\n                                    options={{\n                                        title: {\n                                            display: true,\n                                            text: \"Crime Stats In Queensland\",\n                                            fontSize: 30,\n                                        },\n                                        legend: {\n                                            display: false\n                                        },\n\n                                    }} />\n                            </div>\n                        </div>\n\n                        {/*This is map implementation*/}\n                        <div className=\"heat-map\" style={{ height: '50vh', width: '100%' }}>\n                            <GoogleMapReact\n                                bootstrapURLKeys={{ key: 'AIzaSyDzZe3mc2opzmbZavOC5j335M216rWgqEY' }}\n                                center={[-22.9176, 146.7028]}\n                                zoom={5.2}\n                                heatmapLibrary={true}\n                                heatmap={this.state.heatMapdata}\n                            >\n                                <AnyReactComponent\n                                    lat={-27.4698}\n                                    lng={153.0251} />\n                            </GoogleMapReact>\n                        </div>\n                    </div>\n                );\n            }\n        }\n        else {\n            return (\n                <div className=\"access-denied\">\n                    <h1>YOUR ACCESS TO AUTHORIZED DATA IS DENIED.</h1>\n                    <h1>PLEASE SIGN IN OR CONTACT SYSTEM ADMIN.</h1>\n                </div>\n            )\n        }\n    }\n}\n\nexport { Search }","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Route, Link, Switch } from \"react-router-dom\";\nimport { AuthenMain } from \"./authen\";\nimport { Button } from 'react-bootstrap';\nimport { ShowOffences } from \"./offences\";\nimport { Search } from \"./newsearch\";\n\n\n//Main App with all routing \nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  render() {\n\n    return (\n      <BrowserRouter>\n        <div className=\"routes\">\n        \n          <Link to=\"/\">\n            <Button variant=\"secondary\" className=\"links\">\n              List of Offences\n            </Button></Link>\n\n          <Link to=\"/authen\"><Button variant=\"secondary\" className=\"links\">Account</Button></Link>\n          <Link to=\"/newsearch\">\n            <Button variant=\"secondary\" className=\"links\">\n              Search\n            </Button></Link>\n      </div>\n      <Switch>\n          <Route path=\"/authen\" component={AuthenMain} />\n          <Route path=\"/newsearch\" component={Search} />\n          <Route exact path=\"/\" component={ShowOffences} />\n          </Switch>\n      </BrowserRouter>\n    )\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);"],"sourceRoot":""}